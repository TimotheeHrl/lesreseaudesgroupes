{"version":3,"sources":["../../stdlib/errors.ts"],"names":["errorProps","process","env","JEST_WORKER_ID","undefined","SuperJson","allowErrorProps","AuthenticationError","Error","constructor","message","name","statusCode","_clearStack","registerClass","identifier","allowProps","CSRFTokenMismatchError","AuthorizationError","NotFoundError","PaginationArgumentError","RedirectError","url","href"],"mappings":"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","sourcesContent":["import SuperJson from 'superjson'\nimport type { UrlObject } from 'url'\n\nconst errorProps = ['name', 'message', 'code', 'statusCode', 'meta']\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.allowErrorProps(...errorProps)\n}\n\nexport class AuthenticationError extends Error {\n  name = 'AuthenticationError'\n  statusCode = 401\n  constructor(message = 'You must be logged in to access this') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(AuthenticationError, {\n    identifier: 'BlitzAuthenticationError',\n    allowProps: errorProps,\n  })\n}\n\nexport class CSRFTokenMismatchError extends Error {\n  name = 'CSRFTokenMismatchError'\n  statusCode = 401\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(CSRFTokenMismatchError, {\n    identifier: 'BlitzCSRFTokenMismatchError',\n    allowProps: errorProps,\n  })\n}\n\nexport class AuthorizationError extends Error {\n  name = 'AuthorizationError'\n  statusCode = 403\n  constructor(message = 'You are not authorized to access this') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(AuthorizationError, {\n    identifier: 'BlitzAuthorizationError',\n    allowProps: errorProps,\n  })\n}\n\nexport class NotFoundError extends Error {\n  name = 'NotFoundError'\n  statusCode = 404\n  constructor(message = 'This could not be found') {\n    super(message)\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(NotFoundError, {\n    identifier: 'BlitzNotFoundError',\n    allowProps: errorProps,\n  })\n}\n\nexport class PaginationArgumentError extends Error {\n  name = 'PaginationArgumentError'\n  statusCode = 422\n  constructor(message = 'The pagination arguments are invalid') {\n    super(message)\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(PaginationArgumentError, {\n    identifier: 'BlitzPaginationArgumentError',\n    allowProps: errorProps,\n  })\n}\n\nexport class RedirectError extends Error {\n  name = 'RedirectError'\n  statusCode = 302\n  url: UrlObject | string\n  constructor(url: UrlObject | string) {\n    super(typeof url === 'object' ? url.href! : url)\n    this.url = url\n  }\n  get _clearStack() {\n    return true\n  }\n}\nif (process.env.JEST_WORKER_ID === undefined) {\n  SuperJson.registerClass(NotFoundError, {\n    identifier: 'BlitzRedirectError',\n    allowProps: errorProps,\n  })\n}\n"]}